# ========================================
# TRADING BOT - PRODUCTION ENVIRONMENT
# ========================================
# Copy this file to .env.production and fill in your actual values
# NEVER commit .env.production to version control!

# ========================================
# üîê DERIV API CREDENTIALS
# ========================================
DERIV_API_TOKEN=your_deriv_api_token_here
DERIV_API_URL=wss://ws.derivws.com/websockets/v3
DERIV_APP_ID=your_app_id

# ========================================
# üóÑÔ∏è DATABASE CONFIGURATION
# ========================================
DB_PASSWORD=your_strong_postgres_password_here
DATABASE_URL=postgresql://trading_user:${DB_PASSWORD}@postgres:5432/trading_bot_prod

# ========================================
# üì¶ REDIS CONFIGURATION
# ========================================
REDIS_PASSWORD=your_strong_redis_password_here
REDIS_URL=redis://:${REDIS_PASSWORD}@redis:6379/0

# ========================================
# üîë SECURITY
# ========================================
JWT_SECRET_KEY=your_jwt_secret_key_min_32_characters
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60

# ========================================
# üìä INFLUXDB (Time Series DB)
# ========================================
INFLUXDB_TOKEN=your_influxdb_token_here
INFLUXDB_ADMIN_PASSWORD=your_influxdb_admin_password
INFLUXDB_PASSWORD=your_influxdb_user_password
INFLUXDB_URL=http://influxdb:8086

# ========================================
# üìà GRAFANA
# ========================================
GRAFANA_ADMIN_PASSWORD=your_grafana_admin_password

# ========================================
# üö® ALERTING - EMAIL
# ========================================
ALERT_EMAIL_USERNAME=your_email@gmail.com
ALERT_EMAIL_PASSWORD=your_app_specific_password
ALERT_EMAIL_TO=alerts@yourcompany.com
EMAIL_PASSWORD=${ALERT_EMAIL_PASSWORD}

# ========================================
# üö® ALERTING - TELEGRAM
# ========================================
# Create a bot with @BotFather to get the token
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
# Get your chat ID from @userinfobot
TELEGRAM_CHAT_ID=-1001234567890

# ========================================
# üö® ALERTING - WEBHOOK (opcional)
# ========================================
ALERT_WEBHOOK_URL=https://your-webhook-url.com/alerts
HEALTHCHECK_WEBHOOK_URL=https://your-webhook-url.com/health

# ========================================
# üåê ENVIRONMENT SETTINGS
# ========================================
ENVIRONMENT=production
TRADING_ENV=production
LOG_LEVEL=INFO
PYTHONUNBUFFERED=1

# ========================================
# üîí SSL CERTIFICATES (se usar HTTPS)
# ========================================
SSL_CERT_FILE=/certs/server.crt
SSL_KEY_FILE=/certs/server.key

# ========================================
# ü§ñ ML MODEL SETTINGS
# ========================================
ML_MODEL_PATH=/app/models/xgboost_model.pkl
ML_CONFIDENCE_THRESHOLD=0.60
ML_RETRAIN_INTERVAL_HOURS=168  # 1 semana

# ========================================
# üí∞ TRADING RISK MANAGEMENT
# ========================================
MAX_POSITION_SIZE_PCT=2.0         # 2% do capital por trade
STOP_LOSS_PCT=2.0                 # 2% stop loss
TAKE_PROFIT_PCT=4.0               # 4% take profit (R:R 1:2)
MAX_DAILY_LOSS_PCT=5.0            # 5% perda di√°ria m√°xima
MAX_DRAWDOWN_PCT=15.0             # 15% drawdown m√°ximo
MAX_CONCURRENT_POSITIONS=3        # M√°ximo 3 posi√ß√µes simult√¢neas

# ========================================
# üìä PAPER TRADING (para testes)
# ========================================
PAPER_TRADING_ENABLED=false       # true para modo simula√ß√£o
PAPER_TRADING_INITIAL_CAPITAL=10000.0

# ========================================
# üîÑ FORWARD TESTING
# ========================================
FORWARD_TESTING_ENABLED=true
FORWARD_TESTING_SYMBOL=R_100
FORWARD_TESTING_LOG_DIR=/app/forward_testing_logs

# ========================================
# üè• HEALTH CHECK
# ========================================
HEALTH_CHECK_INTERVAL=30          # segundos
HEALTH_CHECK_TIMEOUT=10           # segundos

# ========================================
# üì¶ BACKUP SETTINGS
# ========================================
BACKUP_SCHEDULE="0 2 * * *"       # Diariamente √†s 2 AM
BACKUP_RETENTION_DAYS=30          # Manter backups por 30 dias

# ========================================
# üåê API CONFIGURATION
# ========================================
API_HOST=0.0.0.0
API_PORT=8000
VITE_API_URL=https://botderivapi.roilabs.com.br
VITE_WS_URL=wss://botderivapi.roilabs.com.br/ws

# ========================================
# üîç MONITORING & METRICS
# ========================================
PROMETHEUS_MULTIPROC_DIR=/tmp/prometheus_multiproc
METRICS_ENABLED=true
METRICS_PORT=9090

# ========================================
# üêõ DEBUG (desabilitar em produ√ß√£o!)
# ========================================
DEBUG=false
VITE_DISABLE_WEBSOCKET=false

# ========================================
# üìù LOGGING
# ========================================
LOG_FORMAT=json
LOG_FILE=/app/logs/trading-bot.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=10

# ========================================
# ‚öôÔ∏è PERFORMANCE TUNING
# ========================================
UVICORN_WORKERS=4
UVICORN_TIMEOUT_KEEP_ALIVE=300
UVICORN_TIMEOUT_GRACEFUL_SHUTDOWN=30
POSTGRES_MAX_CONNECTIONS=100
REDIS_MAXMEMORY=256mb
REDIS_MAXMEMORY_POLICY=allkeys-lru

# ========================================
# üåç TIMEZONE
# ========================================
TZ=America/Sao_Paulo
