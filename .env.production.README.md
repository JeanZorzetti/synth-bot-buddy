# ğŸ” Como Configurar .env.production

## ğŸ“‹ Passo a Passo

### 1. Copiar o Arquivo de Exemplo
```bash
cp .env.production.example .env.production
```

### 2. Preencher as VariÃ¡veis ObrigatÃ³rias

Abra `.env.production` e preencha:

#### ğŸ” Deriv API (OBRIGATÃ“RIO)
```bash
DERIV_API_TOKEN=your_token_from_app.deriv.com
DERIV_APP_ID=your_app_id
```

**Como obter:**
1. Acesse https://app.deriv.com/account/api-token
2. Crie um novo token de API
3. Copie o token e app_id

#### ğŸ—„ï¸ Database (Para PostgreSQL em produÃ§Ã£o)
```bash
DB_PASSWORD=escolha_senha_forte_aqui
```

#### ğŸ“¦ Redis (Para cache em produÃ§Ã£o)
```bash
REDIS_PASSWORD=escolha_senha_forte_aqui
```

#### ğŸ”‘ JWT Secret (Para autenticaÃ§Ã£o)
```bash
JWT_SECRET_KEY=min_32_caracteres_aleatorios
```

**Gerar secret seguro:**
```bash
python -c "import secrets; print(secrets.token_urlsafe(32))"
```

#### ğŸš¨ Alertas - Telegram (OPCIONAL mas recomendado)
```bash
TELEGRAM_BOT_TOKEN=123456789:ABC-DEF1234ghIkl-zyx57W2v1u123ew11
TELEGRAM_CHAT_ID=-1001234567890
```

**Como configurar:**
1. Acesse [@BotFather](https://t.me/BotFather)
2. Digite `/newbot`
3. Escolha nome e username
4. Copie o token para `TELEGRAM_BOT_TOKEN`
5. Acesse [@userinfobot](https://t.me/userinfobot)
6. Digite `/start` e copie o chat_id para `TELEGRAM_CHAT_ID`

#### ğŸ“§ Alertas - Email (OPCIONAL)
```bash
ALERT_EMAIL_USERNAME=seu_email@gmail.com
ALERT_EMAIL_PASSWORD=senha_de_app_do_gmail
ALERT_EMAIL_TO=email_destino@exemplo.com
```

**Como configurar Gmail:**
1. Acesse https://myaccount.google.com/security
2. Ative "VerificaÃ§Ã£o em 2 etapas"
3. Em "Senhas de app", gere uma nova senha
4. Use essa senha em `ALERT_EMAIL_PASSWORD`

### 3. Configurar Ambientes EspecÃ­ficos

#### Para Desenvolvimento Local (SQLite)
O projeto jÃ¡ usa SQLite localmente (`backend/trades.db`). NÃ£o precisa alterar `DATABASE_URL`.

#### Para ProduÃ§Ã£o (Docker + PostgreSQL)
```bash
DATABASE_URL=postgresql://trading_user:${DB_PASSWORD}@postgres:5432/trading_bot_prod
```

### 4. Verificar ConfiguraÃ§Ã£o

```bash
# Backend
cd backend
python -c "from dotenv import load_dotenv; load_dotenv('../.env.production'); import os; print('âœ… Loaded' if os.getenv('DERIV_API_TOKEN') else 'âŒ Missing TOKEN')"

# Frontend
cd frontend
npm run build  # deve carregar VITE_API_URL corretamente
```

## ğŸš¨ IMPORTANTE

### âš ï¸ SeguranÃ§a
- âŒ **NUNCA** commite `.env.production` no Git
- âœ… JÃ¡ estÃ¡ no `.gitignore`
- âœ… Use senhas fortes (mÃ­nimo 16 caracteres)
- âœ… Rotacione secrets a cada 90 dias

### ğŸ“ Estrutura de Arquivos
```
synth-bot-buddy-main/
â”œâ”€â”€ .env.production.example   â† Template (commitar)
â”œâ”€â”€ .env.production            â† Seu arquivo (NUNCA commitar)
â”œâ”€â”€ backend/
â”‚   â””â”€â”€ .env                   â† Local development (opcional)
â””â”€â”€ frontend/
    â””â”€â”€ .env.production        â† Frontend config (jÃ¡ existe)
```

## ğŸ”— ReferÃªncias

- [Guia de Deploy Completo](DEPLOY_PRODUCTION.md)
- [Roadmap de VerificaÃ§Ã£o](roadmaps/verificaÃ§Ã£o_real/ROADMAP_VERIFICACAO_DADOS_REAIS.md)
- [Deriv API Docs](https://api.deriv.com/)
- [Docker Compose Prod](docker-compose.prod.yml)
